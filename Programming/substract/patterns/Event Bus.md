%%
1. Что такое шина событий  в программирование 1. Что такое шина событий  в программирование 
2. зачем она нужна 
3. как используется 
4. как используется в асинхронном программирование
5. примера кода на js и c#
6. Откуда пришла в программирование это технолонгия
7. Как реализация Класса EventBus ?
8. В чем разница между Паттерном Observer и EventBus ?
9. в чем разница между EventEmiter и EventBus
10. В чем сходства EventEmiter и Observer с Event Bus
%%




1. Шина событий (Event Bus) - это механизм, который позволяет различным компонентам программы общаться между собой через передачу сообщений (событий).

2. Шина событий нужна для уменьшения связности компонентов программы и упрощения коммуникации между ними. Каждый компонент может отправлять сообщения на шину и подписываться на сообщения, которые ему интересны, не зная, кто будет их получать или обрабатывать.

3. Шина событий используется для передачи сообщений между различными компонентами программы, такими как модули, сервисы, контроллеры и т.д. Компоненты могут отправлять сообщения на шину и подписываться на сообщения, которые им интересны.

4. В асинхронном программировании шина событий используется для обработки асинхронных событий. Например, если приложение должно выполнить длительную операцию, оно может отправить сообщение на шину и продолжить работу. Когда операция завершится, она отправит сообщение на шину, которое будет обработано соответствующим компонентом.

5. Пример кода на JavaScript:
```js
// Создаем экземпляр шины событий
const eventBus = new EventBus();

// Подписываемся на событие 'login'
eventBus.subscribe('login', (userData) => {
  console.log(User ${userData.username} logged in);
});

// Отправляем событие 'login'
eventBus.publish('login', {username: 'John', password: '123456'});
```

Пример кода на C#:

```c#
// Создаем экземпляр шины событий
var eventBus = new EventBus();

// Подписываемся на событие 'orderPlaced'
eventBus.Subscribe<OrderPlacedEvent>(HandleOrderPlaced);

// Отправляем событие 'orderPlaced'
eventBus.Publish(new OrderPlacedEvent {OrderId = 123, TotalAmount = 100.50});

// Обработчик события 'orderPlaced'
private void HandleOrderPlaced(OrderPlacedEvent @event)
{
  Console.WriteLine($"Order {@event.OrderId} placed with total amount of {@event.TotalAmount}");
}
```

6. Шина событий является одним из паттернов проектирования и появилась в программировании еще в 90-х годах. Она была разработана для упрощения коммуникации между компонентами в системах, состоящих из множества независимых модулей. С тех пор она стала широко применяться в различных областях программирования, включая веб-разработку, микросервисную архитектуру и др.
   
7. Реализация класса EventBus может быть разной в зависимости от конкретной технологии или фреймворка, который используется. Например, в JavaScript для создания класса EventBus может использоваться прототипное наследование или ES6 классы, а в C# - библиотеки типа MediatR или NServiceBus. Обычно реализация класса EventBus содержит методы для подписки и отписки от событий, а также для публикации событий.
   
   --- 
#### В чем разница между Паттерном Observer и EventBus ?

Паттерн Observer и EventBus имеют сходства, но есть и отличия.

Паттерн Observer - это паттерн проектирования, который позволяет объектам получать уведомления об изменениях состояния других объектов и реагировать на эти изменения. В этом паттерне есть наблюдатель (Observer), который подписывается на изменения состояния объекта (Subject) и получает уведомления об этих изменениях. При этом наблюдатель и объект, за которым он следит, тесно связаны между собой.

EventBus - это механизм, который позволяет объектам взаимодействовать друг с другом через передачу сообщений. В EventBus есть несколько отправителей (Publisher), которые отправляют сообщения (Event) в шину сообщений. Есть также несколько получателей (Subscriber), которые подписываются на определенные типы сообщений и получают уведомления о том, что такое сообщение было отправлено. При этом отправитель и получатель не связаны напрямую друг с другом.

Таким образом, разница между Паттерном Observer и EventBus заключается в том, что в первом случае наблюдатель и объект, за которым он следит, тесно связаны между собой, а во втором случае отправитель и получатель не связаны напрямую друг с другом. EventBus позволяет более гибко организовывать взаимодействие между объектами, но может быть менее удобен в случаях, когда нужно тесно контролировать связь между объектами.

---
#### В чем разница между EventEmiter и EventBus

[[EventEmitter]] и EventBus - это два разных механизма для передачи сообщений в приложении.

[[EventEmitter]] - это механизм, который позволяет объекту генерировать события и уведомлять другие объекты об этих событиях. Это часто используется в Node.js для обработки событий в асинхронном коде. [[EventEmitter]] позволяет регистрировать обработчики событий и вызывать их при возникновении события.

EventBus - это механизм, который позволяет объектам взаимодействовать друг с другом через передачу сообщений. В EventBus есть несколько отправителей (Publisher), которые отправляют сообщения (Event) в шину сообщений. Есть также несколько получателей (Subscriber), которые подписываются на определенные типы сообщений и получают уведомления о том, что такое сообщение было отправлено.

Таким образом, разница между [[EventEmitter]] и EventBus заключается в том, что первый предназначен для генерации и обработки событий внутри объекта, а второй - для передачи сообщений между объектами в приложении. [[EventEmitter]] может быть удобен для обработки событий в асинхронном коде, а EventBus - для организации взаимодействия между компонентами приложения.

---
#### В чем сходства EventEmiter и Observer с Event Bus

[[EventEmitter]] и Observer имеют общую концепцию передачи сообщений между объектами. Оба механизма используют паттерн "наблюдатель" (Observer pattern), где один объект (наблюдаемый объект) уведомляет другие объекты (наблюдатели) о своих изменениях. 

EventBus также использует этот паттерн, но в отличие от [[EventEmitter]] и Observer он предоставляет централизованный механизм для передачи сообщений между объектами в приложении. 

Также все три механизма позволяют регистрировать обработчики сообщений и вызывать их при возникновении события/получении сообщения. Однако, EventBus может иметь несколько отправителей и получателей, в то время как [[EventEmitter]] и Observer работают только в рамках одного объекта.



Нужно написать реализацию всех трех паттернов механизмов


Event bus к какому паттерну он ближе относиться ?
[Паттерны разработанные на основе observer](obsidian://open?vault=Notes&file=Observer%2FObserver_part2)

Event bus можно отнести к паттерну Pub-Sub (издатель-подписчик). Он представляет собой механизм, который позволяет различным компонентам программы взаимодействовать друг с другом, не зависимо от их расположения и структуры. В этом случае, компоненты могут выступать как издатели (отправители сообщений), так и подписчики (получатели сообщений). Event bus предоставляет централизованный механизм для передачи сообщений между компонентами, что упрощает их взаимодействие и повышает гибкость системы в целом.
