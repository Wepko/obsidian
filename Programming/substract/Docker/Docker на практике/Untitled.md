# Содержание книги "Docker на практике"

## Предисловие
*Введение в мир Docker и объяснение значимости контейнеризации для современной разработки.*

## Благодарности
*Признательность всем, кто участвовал в создании книги - авторам, редакторам, рецензентам и техническим специалистам.*

## Об этой книге
*Подробное описание структуры книги, ее целевой аудитории и методологии изложения материала в формате "проблема/решение".*

## Дорожная карта
*Пошаговый план изучения книги, разделенный на логические этапы освоения Docker.*

## О коде
*Информация о примерах кода, их доступности и способах использования в учебных целях.*

## Книжный форум
*Описание онлайн-сообщества читателей, где можно задавать вопросы и обсуждать материал книги.*

## Об иллюстрации на обложке
*История и символика иллюстрации, использованной на обложке издания.*

---

## Часть 1. Основы Docker

### Глава 1. Знакомство с Docker
*Фундаментальное введение в технологию контейнеризации*

**1.1. Что такое Docker, и для чего он нужен**
- **1.1.1. Что такое Docker?** - Определение Docker как платформы для контейнеризации
- **1.1.2. Чем хорош Docker?** - Преимущества использования Docker по сравнению с традиционными подходами
- **1.1.3. Ключевые концепции** - Основные термины: образы, контейнеры, Dockerfile, реестры

**1.2. Создание приложения Docker**
- **1.2.1. Способы создания нового образа Docker** - Различные подходы к созданию образов
- **1.2.2. Пишем Dockerfile** - Подробное руководство по созданию Dockerfile
- **1.2.3. Собираем образ Docker** - Процесс сборки образов из Dockerfile
- **1.2.4. Запускаем контейнер Docker** - Методы запуска и управления контейнерами
- **1.2.5. Слои Docker** - Архитектура слоев образов Docker

**Резюме главы 1**
*Итоги и ключевые выводы первой главы*

### Глава 2. Постигаем Docker: внутри машинного отделения
*Углубленное изучение архитектуры Docker*

**2.1. Архитектура Docker** - Обзор компонентной архитектуры Docker

**2.2. Демон Docker**
- **МЕТОД 1. Сделайте демон Docker доступным** - Настройка доступности демона Docker
- **МЕТОД 2. Запуск контейнеров в качестве демонов** - Управление фоновыми контейнерами
- **МЕТОД 3. Перемещение Docker в другой раздел** - Оптимизация расположения Docker

**2.3. Клиент Docker**
- **МЕТОД 4. Использование socat для мониторинга трафика Docker API** - Отслеживание API-вызовов
- **МЕТОД 5. Использование Docker в вашем браузере** - Веб-интерфейсы для управления Docker
- **МЕТОД 6. Использование портов для подключения к контейнерам** - Сетевые подключения к контейнерам
- **МЕТОД 7. Разрешение связи между контейнерами** - Организация межконтейнерного взаимодействия
- **МЕТОД 8. Установление соединений между контейнерами для изоляции портов** - Сетевые паттерны изоляции

**2.4. Реестры Docker**
- **МЕТОД 9. Настройка локального реестра Docker** - Развертывание приватного реестра образов

**2.5. Docker Hub**
- **МЕТОД 10. Поиск и запуск образа Docker** - Работа с публичным реестром Docker Hub

**Резюме главы 2**
*Итоги изучения внутренней архитектуры Docker*

---

## Часть 2. Docker и разработка

### Глава 3. Использование Docker в качестве легкой виртуальной машины
*Сравнение и миграция с виртуальных машин на контейнеры*

**3.1. От виртуальной машины к контейнеру**
- **МЕТОД 11. Преобразование вашей виртуальной машины в контейнер** - Миграция VM в Docker
- **МЕТОД 12. Хостподобный контейнер** - Создание контейнеров, имитирующих полноценный хост
- **МЕТОД 13. Разделение системы на микросервисные контейнеры** - Декомпозиция монолита на микросервисы
- **МЕТОД 14. Управление запуском служб вашего контейнера** - Оркестрация сервисов внутри контейнера

**3.2. Сохранение и восстановление работы**
- **МЕТОД 15. Подход «сохранить игру»: дешевое управление исходным кодом** - Версионирование через образы
- **МЕТОД 16. Присвоение тегов** - Стратегии тегирования образов
- **МЕТОД 17. Совместное использование образов в Docker Hub** - Публикация и обмен образами
- **МЕТОД 18. Обращение к конкретному образу в сборках** - Детальное управление версиями образов

**3.3. Среда как процесс**
- **МЕТОД 19. Подход «сохранить игру»: победа в игре 2048** - Практический пример использования Docker

**Резюме главы 3**
*Итоги по использованию Docker как альтернативы виртуальным машинам*

### Глава 4. Сборка образов
*Продвинутые техники создания эффективных образов Docker*

**4.1. Сборка образов**
- **МЕТОД 20. Внедрение файлов в образ с помощью ADD** - Использование директивы ADD
- **МЕТОД 21. Повторная сборка без кеша** - Управление кешированием сборок
- **МЕТОД 22. Запрет кеширования** - Полное отключение кеша
- **МЕТОД 23. Умный запрет кеширования с помощью buildargs** - Динамическое управление кешем через аргументы
- **МЕТОД 24. Умный запрет кеширования с помощью директивы ADD** - Использование ADD для инвалидации кеша
- **МЕТОД 25. Установка правильного часового пояса в контейнерах** - Конфигурация временных зон
- **МЕТОД 26. Управление локалями** - Настройка локалей и языковых параметров
- **МЕТОД 27. Шагаем по слоям с помощью imagestepper** - Анализ слоев образов
- **МЕТОД 28. Onbuild и golang** - Использование директивы ONBUILD для Go-приложений

**Резюме главы 4**
*Итоги по оптимизации процесса сборки образов*

### Глава 5. Запуск контейнеров
*Практические методы управления жизненным циклом контейнеров*

**5.1. Запуск контейнеров**
- **МЕТОД 29. Запуск графического интерфейса пользователя в Docker** - GUI-приложения в контейнерах
- **МЕТОД 30. Проверка контейнеров** - Диагностика состояния контейнеров
- **МЕТОД 31. Чистое уничтожение контейнеров** - Безопасное удаление контейнеров
- **МЕТОД 32. Использование Docker Machine для поддержки работы хостов Docker** - Управление удаленными хостами
- **МЕТОД 33. Запись Wildcard** - Шаблонизация команд Docker

**5.2. Тома**
- **МЕТОД 34. Тома Docker: проблемы персистентности** - Сохранение данных в томах
- **МЕТОД 35. Распределенные тома и Resilio Sync** - Синхронизация томов между хостами
- **МЕТОД 36. Сохранение истории bash вашего контейнера** - Персистентность истории команд
- **МЕТОД 37. Контейнеры данных** - Специализированные контейнеры для хранения данных
- **МЕТОД 38. Удаленное монтирование тома с использованием SSHFS** - Сетевые тома через SSH
- **МЕТОД 39. Совместное использование данных через NFS** - Сетевые файловые системы в Docker
- **МЕТОД 40. Контейнер dev tools** - Разработка внутри контейнеров

**Резюме главы 5**
*Итоги по управлению запуском и хранением данных*

### Глава 6. Повседневное использование Docker
*Оптимизация рабочих процессов с Docker*

**6.1. Оставаться в полном порядке**
- **МЕТОД 41. Запуск Docker без использования sudo** - Настройка прав доступа
- **МЕТОД 42. Содержание контейнеров в порядке** - Управление жизненным циклом контейнеров
- **МЕТОД 43. Содержание томов в порядке** - Очистка и обслуживание томов
- **МЕТОД 44. Отключение от контейнеров без их остановки** - Управление сессиями подключения
- **МЕТОД 45. Использование Portainer для управления демоном Docker** - Веб-интерфейс для администрирования
- **МЕТОД 46. Создание графа зависимостей образов Docker** - Визуализация зависимостей образов
- **МЕТОД 47. Прямое действие: выполнение команд в контейнере** - Исполнение команд внутри работающих контейнеров
- **МЕТОД 48. Вы находитесь в контейнере Docker?** - Определение окружения выполнения

**Резюме главы 6**
*Итоги по оптимизации ежедневной работы с Docker*

### Глава 7. Управление конфигурацией: наводим порядок в доме
*Инфраструктура как код в мире Docker*

**7.1. Управление конфигурацией и файлы Dockerfile**
- **МЕТОД 49. Создание надежных специальных инструментов с помощью ENTRYPOINT** - Правильное использование ENTRYPOINT
- **МЕТОД 50. Предотвращение перемещения пакетов путем указания версий** - Фиксация версий зависимостей
- **МЕТОД 51. Замена текста с помощью perl -p -i -e** - Обработка конфигурационных файлов
- **МЕТОД 52. Сращивание образов** - Комбинирование образов
- **МЕТОД 53. Управление чужими пакетами с помощью Alien** - Конвертация пакетов между дистрибутивами

**7.2. Традиционные инструменты управления конфигурацией и Docker**
- **МЕТОД 54. Традиционно: использование make и Docker** - Интеграция с системами сборки
- **МЕТОД 55. Создание образов с помощью Chef Solo** - Использование Chef для сборки образов

**7.3. Маленький значит красивый**
- **МЕТОД 56. Хитрости, позволяющие уменьшить образ** - Общие приемы минимизации образов
- **МЕТОД 57. Создание маленьких образов Docker с помощью BusyBox и Alpine** - Использование минималистичных базовых образов
- **МЕТОД 58. Модель минимальных контейнеров Go** - Оптимизация Go-приложений
- **МЕТОД 59. Использование inotifywait для сокращения размера контейнеров** - Мониторинг файловой системы
- **МЕТОД 60. Большое может быть красивым** - Когда большие образы оправданы

**Резюме главы 7**
*Итоги по управлению конфигурацией и оптимизации образов*

---

## Часть 3. Docker и DevOps

### Глава 8. Непрерывная интеграция: ускорение конвейера разработки
*Интеграция Docker в процессы CI/CD*

**8.1. Автоматические сборки Docker Hub**
- **МЕТОД 61. Использование рабочего процесса Docker Hub** - Автоматизация сборок в Docker Hub

**8.2. Более эффективные сборки**
- **МЕТОД 62. Ускорение сборок с интенсивным вводом-выводом с помощью eatmydata** - Оптимизация I/O операций
- **МЕТОД 63. Настройка кеша пакетов для более быстрой сборки** - Локальное кеширование пакетов
- **МЕТОД 64. Headless Chrome в контейнере** - Запуск Chrome для тестирования
- **МЕТОД 65. Выполнение тестов Selenium внутри Docker** - Автоматизированное тестирование в контейнерах

**8.3. Контейнеризация процесса непрерывной интеграции**
- **МЕТОД 66. Запуск ведущего устройства Jenkins в контейнере Docker** - Контейнеризация Jenkins
- **МЕТОД 67. Содержание сложной среды разработки** - Управление комплексными средами
- **МЕТОД 68. Масштабирование процесса непрерывной интеграции с помощью плагина Swarm** - Горизонтальное масштабирование CI
- **МЕТОД 69. Безопасное обновление контейнеризованного сервера Jenkins** - Обновление Jenkins без простоев

**Резюме главы 8**
*Итоги по интеграции Docker в CI/CD процессы*

### Глава 9. Непрерывная доставка: идеальная совместимость с принципами Docker
*Реализация непрерывной доставки с использованием Docker*

**9.1. Взаимодействие с другими командами в конвейере непрерывной доставки**
- **МЕТОД 70. Контракт Docker: устранение разногласий** - Стандартизация интерфейсов между командами

**9.2. Облегчение развертывания образов Docker**
- **МЕТОД 71. Зеркальное отображение образов реестра вручную** - Создание зеркал реестров
- **МЕТОД 72. Доставка образов через ограниченные соединения** - Работа в условиях ограниченного сетевого доступа
- **МЕТОД 73. Совместное использование объектов Docker в виде TAR-файлов** - Экспорт и импорт образов

**9.3. Настройка ваших образов для среды**
- **МЕТОД 74. Информирование контейнеров с помощью etcd** - Динамическая конфигурация через etcd

**9.4. Обновление запущенных контейнеров**
- **МЕТОД 75. Использование confd для включения переключения без простоя** - Бесперебойные обновления

**Резюме главы 9**
*Итоги по реализации непрерывной доставки с Docker*

### Глава 10. Сетевое моделирование: Безболезненное реалистичное тестирование среды
*Тестирование в реалистичных сетевых условиях*

**10.1. Обмен данными между контейнерами: за пределами ручного соединения**
- **МЕТОД 76. Простой кластер Docker Compose** - Оркестрация многоконтейнерных приложений
- **МЕТОД 77. SQLite-сервер, использующий Docker Compose** - Создание сервисов на базе SQLite

**10.2. Использование Docker для симуляции реальной сетевой среды**
- **МЕТОД 78. Имитация проблемных сетей с помощью Comcast** - Эмуляция сетевых проблем
- **МЕТОД 79. Имитация проблемных сетей с помощью Blockade** - Инструмент для тестирования отказоустойчивости

**10.3. Docker и виртуальные сети**
- **МЕТОД 80. Создание еще одной виртуальной сети Docker** - Настройка пользовательских сетей
- **МЕТОД 81. Настройка физической сети с помощью Weave** - Создание распределенных сетей

**Резюме главы 10**
*Итоги по сетевому моделированию и тестированию*

---

## Часть 4. Оркестровка от одного компьютера до облака

### Глава 11. Основы оркестровки контейнеров
*Управление множеством контейнеров*

**11.1. Простой Docker с одним хостом**
- **МЕТОД 82. Управление контейнерами на вашем хосте с помощью systemd** - Интеграция с системным менеджером
- **МЕТОД 83. Оркестровка запуска контейнеров на вашем хосте** - Последовательный запуск контейнеров

**11.2. Docker с несколькими хостами**
- **МЕТОД 84. Мультихостовый Docker и Helios** - Управление кластерами Docker

**11.3. Обнаружение сервисов: что у нас здесь?**
- **МЕТОД 85. Использование Consul для обнаружения сервисов** - Сервис-дискавери с Consul
- **МЕТОД 86. Автоматическая регистрация служб с использованием Registrator** - Автоматическая регистрация сервисов

**Резюме главы 11**
*Итоги по основам оркестровки контейнеров*

### Глава 12. Центр обработки данных в качестве ОС с Docker
*Масштабирование до уровня дата-центра*

**12.1. Мультихостовый Docker**
- **МЕТОД 87. Бесшовный кластер Docker с режимом swarm** - Нативное кластеризация Docker
- **МЕТОД 88. Использование кластера Kubernetes** - Оркестрация с помощью Kubernetes
- **МЕТОД 89. Доступ к API Kubernetes из модуля** - Программное взаимодействие с Kubernetes
- **МЕТОД 90. Использование OpenShift для локального запуска API-интерфейсов AWS** - Локальная эмуляция облачных сервисов
- **МЕТОД 91. Создание фреймворка на основе Mesos** - Использование Apache Mesos
- **МЕТОД 92. Микроуправление Mesos с помощью Marathon** - Оркестрация задач в Mesos

**Резюме главы 12**
*Итоги по управлению контейнерами в масштабах дата-центра*

### Глава 13. Платформы Docker
*Выбор и оценка платформ для контейнеризации*

**13.1. Факторы организационного выбора**
- **13.1.1. Время выхода на рынок** - Фактор скорости развертывания
- **13.1.2. Покупка по сравнению со сборкой** - Build vs Buy решение
- **13.1.3. Монолитное против частичного** - Архитектурные подходы
- **13.1.4. Открытый исходный код по сравнению с лицензированным** - Выбор лицензионной модели
- **13.1.5. Отношение к безопасности** - Приоритеты в безопасности
- **13.1.6. Независимость потребителей** - Уровень абстракции от инфраструктуры
- **13.1.7. Облачная стратегия** - Мульти- или гибридное облако
- **13.1.8. Организационная структура** - Влияние структуры организации
- **13.1.9. Несколько платформ?** - Стратегия мультиплатформенности
- **13.1.10. Организационные факторы. Заключение** - Итоги по выбору платформы

**13.2. Области, которые следует учитывать при переходе на Docker**
- **13.2.1. Безопасность и контроль** - Аспекты безопасности при внедрении
- **13.2.2. Создание и доставка образов** - Процессы сборки и дистрибуции
- **13.2.3. Запуск контейнеров** - Операционные аспекты

**13.3. Поставщики, организации и продукты**
- **13.3.1. Cloud Native Computing Foundation (CNCF)** - Роль CNCF в экосистеме
- **13.3.2. Docker, Inc** - Компания-создатель Docker
- **13.3.3. Google** - Вклад Google в развитие контейнеризации
- **13.3.4. Microsoft** - Позиция Microsoft в экосистеме Docker
- **13.3.5. Amazon** - AWS и контейнерные сервисы
- **13.3.6. Red Hat** - Роль Red Hat в enterprise-сегменте

**Резюме главы 13**
*Итоги по выбору и оценке контейнерных платформ*

---

## Часть 5. Docker в рабочем окружении

### Глава 14. Docker и безопасность
*Обеспечение безопасности контейнерных сред*

**14.1. Получение доступа к Docker, и что это значит**
- **14.1.1. Вас это волнует?** - Важность вопроса безопасности

**14.2. Меры безопасности в Docker**
- **МЕТОД 93. Ограничение мандатов** - Управление правами контейнеров
- **МЕТОД 94. «Плохой» образ Docker для сканирования** - Тестирование систем безопасности

**14.3. Обеспечение доступа к Docker**
- **МЕТОД 95. HTTP-аутентификация на вашем экземпляре Docker** - Защита Docker API
- **МЕТОД 96. Защита API Docker** - Безопасность удаленного доступа

**14.4. Безопасность за пределами Docker**
- **МЕТОД 97. Сокращение поверхности атаки контейнера с помощью DockerSlim** - Минимизация уязвимостей
- **МЕТОД 98. Удаление секретов, добавленных во время сборки** - Защита чувствительной информации
- **МЕТОД 99. OpenShift: платформа приложений как сервис** - Enterprise-платформа с встроенной безопасностью
- **МЕТОД 100. Использование параметров безопасности** - Дополнительные меры безопасности

**Резюме главы 14**
*Итоги по обеспечению безопасности в Docker*

### Глава 15. Как по маслу: запуск Docker в рабочем окружении
*Эксплуатация Docker в production-среде*

**15.1. Мониторинг**
- **МЕТОД 101. Логирование контейнеров в системный журнал хоста** - Централизованное логирование
- **МЕТОД 102. Логирование вывода журналов Docker** - Агрегация логов Docker
- **МЕТОД 103. Мониторинг контейнеров с помощью cAdvisor** - Мониторинг метрик контейнеров

**15.2. Управление ресурсами**
- **МЕТОД 104. Ограничение количества ядер для работы контейнеров** - CPU-квотирование
- **МЕТОД 105. Предоставление важным контейнерам больше ресурсов ЦП** - Приоритезация ресурсов
- **МЕТОД 106. Ограничение использования памяти контейнера** - Управление памятью

**15.3. Варианты использования Docker для системного администратора**
- **МЕТОД 107. Использование Docker для запуска заданий cron** - Контейнеризация cron-заданий
- **МЕТОД 108. Подход «сохранить игру» по отношению к резервным копиям** - Стратегии резервного копирования

**Резюме главы 15**
*Итоги по эксплуатации Docker в production*

### Глава 16. Docker в рабочем окружении: решение проблем
*Диагностика и решение проблем в контейнерных средах*

**16.1. Производительность: нельзя игнорировать хост**
- **МЕТОД 109. Получение доступа к ресурсам хоста из контейнера** - Интеграция с хост-системой
- **МЕТОД 110. Отключение OOM killer** - Управление обработчиком нехватки памяти

**16.2. Когда контейнеры дают течь – отладка Docker**
- **МЕТОД 111. Отладка сети контейнера с помощью nsenter** - Анализ сетевого стека
- **МЕТОД 112. Использование tcpflow для отладки в полете без перенастройки** - Перехват сетевого трафика
- **МЕТОД 113. Отладка контейнеров, которые не работают на определенных хостах** - Диагностика проблем совместимости
- **МЕТОД 114. Извлечение файла из образа** - Доступ к содержимому образов

**Резюме главы 16**
*Итоги по диагностике и решению проблем в Docker*

---

## Техническая информация об издании

### Библиографические данные
- **Оригинальное английское издание**: Manning Publications, 2019
- **Русскоязычное издание**: ДМК Пресс, 2020
- **ISBN английского издания**: 9781617294808
- **ISBN русского издания**: 9785970607725
- **УДК**: 004.451Docker
- **ББК**: 32.972.1

### Права и ограничения
*Все права защищены. Любая часть этой книги не может быть воспроизведена в какой бы то ни было форме и какими бы то ни было средствами без письменного разрешения владельцев авторских прав.*

### Гарантии и ответственность
*Материал, изложенный в данной книге, многократно проверен. Но, поскольку вероятность технических ошибок все равно существует, издательство не может гарантировать абсолютную точность и правильность приводимых сведений. В связи с этим издательство не несет ответственности за возможные ошибки, связанные с использованием книги.*

### Авторские права
- Copyright © 2019 by Manning Publications Co.
- © Оформление, перевод на русский язык, издание, ДМК Пресс, 2020

---

## Структурный анализ книги

### Методология изложения
Книга построена по принципу **"проблема/решение"**, где каждый метод представляет собой:
1. Конкретную проблему или задачу
2. Подробное пошаговое решение
3. Объяснение принципов работы

### Целевая аудитория
- Разработчики программного обеспечения
- DevOps-инженеры
- Системные администраторы
- Архитекторы решений
- Технические руководители

### Объем и глубина покрытия
Всего в книге представлено **114 практических метода**, распределенных по:
- **5 частям** (Основы, Разработка, DevOps, Оркестровка, Production)
- **16 главам**
- **Различным уровням сложности** - от начального до продвинутого

### Практическая направленность
Каждый метод содержит:
- Контекст использования
- Пошаговые инструкции
- Примеры кода
- Рекомендации по применению
- Предостережения и лучшие практики

### Актуальность содержания
Книга охватывает как фундаментальные концепции Docker, так и современные практики:
- Контейнеризация legacy-приложений
- Микросервисная архитектура
- Непрерывная интеграция и доставка
- Оркестровка в облачных средах
- Безопасность и мониторинг в production

Данная структура обеспечивает систематическое изучение Docker от основ до продвинутых техник, с акцентом на практическое применение в реальных проектах.