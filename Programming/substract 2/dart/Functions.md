Отлично! Давайте разберем создание обычных функций в Dart с самого начала. Это очень просто и логично.

### 1. Базовый синтаксис

Самый распространенный способ объявления функции:

```dart
[тип_возвращаемого_значения] [имя_функции]([параметры]) {
  // Тело функции
  return [значение]; // если тип возвращаемого значения не void
}
```

**Пример: Простая функция сложения**

```dart
int sum(int a, int b) {
  return a + b;
}

void main() {
  int result = sum(5, 3); // Вызов функции
  print(result); // Выведет: 8
}
```

*   `int` — тип возвращаемого значения (функция вернет целое число).
*   `sum` — имя функции.
*   `(int a, int b)` — список параметров (два целочисленных параметра).
*   `return a + b;` — ключевое слово `return` возвращает результат вычисления.

---

### 2. Функция, которая ничего не возвращает (`void`)

Если функция не возвращает значение, используется ключевое слово `void`.

```dart
void greet(String name) {
  print('Привет, $name!');
}

void main() {
  greet('Анна'); // Выведет: Привет, Анна!
  // Нельзя написать: var result = greet('Anna');, т.к. ничего не возвращается.
}
```

---

### 3. Сокращенный синтаксис (Arrow Function / Expression Body)

Если тело функции состоит из всего одного выражения, его можно записать сокращенно, используя `=>` (стрелку). Это удобно для небольших функций.

**Эквивалентные записи:**

```dart
// Полная форма
int square(int number) {
  return number * number;
}

// Сокращенная форма (стрелочная функция)
int square(int number) => number * number;

void main() {
  print(square(5)); // Выведет: 25
}
```

Этот синтаксис очень часто используется для простых операций, например, внутри `map` или `where`.

```dart
var numbers = [1, 2, 3];
var squares = numbers.map((number) => number * number).toList();
print(squares); // [1, 4, 9]
```

---

### 4. Параметры функций

Параметры бывают двух основных видов: обязательные и необязательные.

#### a) Обязательные параметры (Required)

То, что мы видели в примерах выше. Параметры нужно передавать в строгом порядке.

```dart
void introduce(String name, String city) {
  print('Меня зовут $name, я из $city.');
}

void main() {
  introduce('Алексей', 'Москва'); // Порядок важен!
  // introduce('Москва', 'Алексей'); // Логическая ошибка!
}
```

#### b) Необязательные параметры

Бывают двух типов: **позиционные** и **именованные**.

**Необязательные позиционные параметры (Optional Positional Parameters)**
Обрамляются квадратными скобками `[]`. Можно передать, а можно не передавать.

```dart
void greet(String name, [String? greeting]) {
  // String? - означает, что greeting может быть строкой или null
  if (greeting != null) {
    print('$greeting, $name!');
  } else {
    print('Привет, $name!');
  }
}

void main() {
  greet('Мария'); // Выведет: Привет, Мария!
  greet('Иван', 'Здравствуй'); // Выведет: Здравствуй, Иван!
}
```

**Необязательные именованные параметры (Optional Named Parameters)**
Обрамляются фигурными скобками `{}`. При вызове указывается имя параметра. Это делает код гораздо читаемее.

```dart
// Параметры `title` и `isActive` являются необязательными и именованными.
void configureApp({String? title, int width = 100, int height = 200, bool isActive = true}) {
  print('Настройка: $title, $width x $height, Активен: $isActive');
}

void main() {
  // Можно передавать в любом порядке, указывая имена.
  configureApp(title: 'Мое Приложение', width: 800);
  configureApp(height: 600, isActive: false);
  configureApp(); // А можно и ничего не передавать.
}
```
*   `{String? title}` — параметр может быть `null` (не передан).
*   `{int width = 100}` — параметр имеет значение по умолчанию. Если его не передать, будет использовано `100`.

**Обязательные именованные параметры (Required Named Parameters)**
Используется ключевое слово `required`. Это частый случай в Flutter.

```dart
// Параметр `name` обязателен к передаче, даже though он именованный.
void createUser({required String name, required int id, int age = 18}) {
  print('Создан пользователь: $name ($id), возраст $age');
}

void main() {
  createUser(name: 'Петр', id: 123); // age будет 18 по умолчанию
  createUser(id: 456, name: 'Ольга', age: 30); // Порядок не важен
  // createUser(id: 789); // ОШИБКА: отсутствует обязательный параметр 'name'
}
```

---

### 5. Функции как объекты первого класса

В Dart функции — это такие же объекты, как и числа или строки. Их можно присваивать переменным, передавать в другие функции в качестве аргументов и возвращать из других функций.

**Присвоение переменной:**
```dart
void sayHello() {
  print('Hello!');
}

void main() {
  var myFunction = sayHello; // Присваиваем функцию переменной (без скобок!)
  myFunction(); // Вызываем через переменную -> "Hello!"
}
```

**Передача в другую функцию ( callback ):**
```dart
// Функция `execute` принимает другую функцию в качестве параметра.
void execute(void Function() callback) {
  print('Начинаю выполнение...');
  callback(); // Вызываем переданную функцию
  print('Выполнение завершено.');
}

void myAction() {
  print('Это мое действие!');
}

void main() {
  execute(myAction); // Передаем функцию myAction как аргумент
}
```

### Итог

1.  **База:** `возвращаемый_тип имя(параметры) { ... }`
2.  **Ничего не возвращает:** `void`
3.  **Сокращение:** `тип имя(парам) => выражение;`
4.  **Параметры:**
    *   Обязательные: `(a, b)`
    *   Необязательные позиционные: `([a])`
    *   Необязательные именованные: `({a})`
    *   Обязательные именованные: `({required a})`
5.  **Функции — это объекты:** их можно передавать и присваивать.

Это основа, на которой строится все остальное, включая асинхронные функции (`async`/`await`), которые работают по тем же правилам, но с некоторыми дополнениями.