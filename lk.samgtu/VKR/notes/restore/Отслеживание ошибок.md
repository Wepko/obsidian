–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ï—Å–ª–∏ —É —Ç–µ–±—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ –≤ —Ä–µ–∂–∏–º–µ **debug**, –Ω–æ –ø–∞–¥–∞–µ—Ç –∏–ª–∏ –≤–µ–¥—ë—Ç —Å–µ–±—è —Å—Ç—Ä–∞–Ω–Ω–æ –≤ **release-–≤–µ—Ä—Å–∏–∏ (release APK)** ‚Äî —ç—Ç–æ —á–∞—Å—Ç–∞—è —Å–∏—Ç—É–∞—Ü–∏—è. –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º, –∫–∞–∫ –æ—Ç—Å–ª–µ–¥–∏—Ç—å —Ç–∞–∫–∏–µ –æ—à–∏–±–∫–∏ –∏ —á—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å.

---

## üîç –ü–æ—á–µ–º—É –æ—à–∏–±–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ release-–≤–µ—Ä—Å–∏–∏?

Release-—Å–±–æ—Ä–∫–∞ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç debug —Ç–µ–º, —á—Ç–æ:
- –í–∫–ª—é—á–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–µ—Ä–µ–≤–æ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞ ‚Äî tree-shaking)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥–∏–µ —Ñ–ª–∞–≥–∏ —Å–±–æ—Ä–∫–∏ (`--release`)
- –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ProGuard/R8 –¥–ª—è –æ–±—Ñ—É—Å–∫–∞—Ü–∏–∏ –∏ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –û—Ç–∫–ª—é—á–µ–Ω—ã –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ (asserts, –ª–æ–≥–∏ `print`, `debugPaintSizeEnabled` –∏ —Ç.–¥.)

–ü–æ—ç—Ç–æ–º—É –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç, –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–ª–∏ `late`, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–æ—à–ª–∏ –ø—Ä–æ–≤–µ—Ä–∫—É ‚Äî –≤—Å—ë –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ –≤ —Ä–µ–ª–∏–∑–µ.

---

## üõ† –ö–∞–∫ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ release-–≤–µ—Ä—Å–∏–∏?

### 1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Crash Reporting —Å–µ—Ä–≤–∏—Å—ã**

#### ‚úÖ Firebase Crashlytics (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

Firebase Crashlytics ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫—Ä–∞—à–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

- –°—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à—ë–ª –∫—Ä–∞—à
- –í–µ—Ä—Å–∏—é –û–°
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π ID (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –õ–æ–≥–∏

üîó [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: Flutter + Firebase Crashlytics](https://firebase.flutter.dev/docs/crashlytics/overview/)

**–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å:**
1. –°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç –≤ Firebase.
2. –ü–æ–¥–∫–ª—é—á–∏ Android/iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.
3. –î–æ–±–∞–≤—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `pubspec.yaml`:
   ```yaml
   dependencies:
     firebase_core: latest
     firebase_crashlytics: latest
   ```
4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π –≤ `main.dart`:
   ```dart
   import 'package:firebase_core/firebase_core.dart';
   import 'package:firebase_crashlytics/firebase_crashlytics.dart';

   void main() async {
     WidgetsFlutterBinding.ensureInitialized();
     await Firebase.initializeApp();
     FlutterError.reporter = (_, errorDetails) {
       FirebaseCrashlytics.instance.recordFlutterFatalError(errorDetails);
     };
     runApp(MyApp());
   }
   ```

5. –¢–µ—Å—Ç–æ–≤—ã–π –∫—Ä–∞—à (—á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å):
   ```dart
   FirebaseCrashlytics.instance.crash();
   ```

---

### 2. **–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ**

–ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–∞–¥–∞–µ—Ç, –ø–æ–∫–∞–∂–∏ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–≥ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–±–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

–ü—Ä–∏–º–µ—Ä:
```dart
void main() {
  // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏
  runZonedGuarded<Future<void>>(() async {
    WidgetsFlutterBinding.ensureInitialized();
    await Firebase.initializeApp();

    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—à–∏–±–∫–∏ –≤ Crashlytics
    FlutterError.reporter = (_, errorDetails) {
      FirebaseCrashlytics.instance.recordFlutterFatalError(errorDetails);
    };

    runApp(const MyApp());
  }, (error, stackTrace) {
    FirebaseCrashlytics.instance.recordError(error, stackTrace);
    _showErrorDialog(error, stackTrace);
  });
}

void _showErrorDialog(dynamic error, StackTrace stackTrace) {
  // –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É
  // –ù–∞–ø—Ä–∏–º–µ—Ä: Navigator.push(context, MaterialPageRoute(builder: ...))
}
```

---

### 3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –≤ Firebase / Sentry / Logs**

–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å –≤–∏–¥–µ—Ç—å, –∫–∞–∫–∏–µ —ç–∫—Ä–∞–Ω—ã –æ—Ç–∫—Ä—ã–≤–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–¥ –∫—Ä–∞—à–µ–º ‚Äî –¥–æ–±–∞–≤—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

–ù–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ Firebase Analytics:
```dart
FirebaseAnalytics().logEvent(name: 'screen_view', parameters: {
  'screen_name': 'HomeScreen',
});
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–∏—à–∏ –≤ –∫–æ–Ω—Å–æ–ª—å (–Ω–æ –æ–Ω–∞ –±—É–¥–µ—Ç –ø—É—Å—Ç–æ–π –≤ release, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å `--no-sound-null-safety`).

---

### 4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å release-–≤–µ—Ä—Å–∏—é –ª–æ–∫–∞–ª—å–Ω–æ**

–ü–µ—Ä–µ–¥ –≤—ã–ø—É—Å–∫–æ–º –≤—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å release-–≤–µ—Ä—Å–∏—é –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:

```bash
flutter run --release
```

> –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã–∫–ª–∞–¥—ã–≤–∞—Ç—å –µ—ë –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

---

### 5. **–í–∫–ª—é—á–∏—Ç—å verbose –ª–æ–≥–∏ –≤ release**

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏ –≤ release-—Å–±–æ—Ä–∫–µ:

```bash
flutter run --release --verbose
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π `debugPrint()` –≤–º–µ—Å—Ç–æ `print()` (–º–µ–Ω—å—à–µ —à–∞–Ω—Å–æ–≤, —á—Ç–æ –ª–æ–≥–∏ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã).

---

### 6. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Sentry –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫**

Sentry ‚Äî –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Firebase Crashlytics, –æ—Å–æ–±–µ–Ω–Ω–æ —Ö–æ—Ä–æ—à –¥–ª—è web –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.

üîó [Sentry –¥–ª—è Flutter](https://docs.sentry.io/platforms/flutter/)

–û–Ω —É–º–µ–µ—Ç:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å JS –∏ –Ω–∞—Ç–∏–≤–Ω—ã–µ –æ—à–∏–±–∫–∏
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å breadcrumbs (—á—Ç–æ –¥–µ–ª–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ –∫—Ä–∞—à–∞)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Slack, GitHub –∏ —Ç.–¥.

---

## üí° –ß—Ç–æ –µ—â—ë –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?

| –ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å | –ó–∞—á–µ–º |
|------------|-------|
| **–î–æ–±–∞–≤—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É** | –ß—Ç–æ–±—ã –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫–∏–µ —ç–∫—Ä–∞–Ω—ã —á–∞—â–µ –≤—Å–µ–≥–æ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –æ—à–∏–±–∫–∞–º |
| **–ü—Ä–æ–≤–µ—Ä—è–π –≤—Å–µ `late` –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** | –û–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤ release |
| **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π `!` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫** | –≠—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ `NullReferenceException` |
| **–¢–µ—Å—Ç–∏—Ä—É–π —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏** | –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞, –Ω–µ—Ç –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏ —Ç.–¥. |
| **–ü–æ—Å–º–æ—Ç—Ä–∏ Logcat –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ release APK** | –í–æ–∑–º–æ–∂–Ω–æ, —Ç–∞–º –µ—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫–∏:  
```bash
flutter run --release
adb logcat
```

---

## üé• –ü–æ–ª–µ–∑–Ω—ã–µ –≤–∏–¥–µ–æ:

- [Flutter Error Handling and Crash Reporting with Firebase Crashlytics](https://www.youtube.com/watch?v=JcclsAccbHs)
- [How to Debug Release Builds in Flutter](https://www.youtube.com/watch?v=YOj5oHwUAxU)

---

## ‚úÖ –†–µ–∑—é–º–µ: –ö–∞–∫ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ release APK

| –ú–µ—Ç–æ–¥ | –î–ª—è —á–µ–≥–æ |
|------|----------|
| Firebase Crashlytics | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫—Ä–∞—à–µ–π |
| Sentry | –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞ |
| –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π | –ü–æ–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –ø–µ—Ä–µ–¥ –æ—à–∏–±–∫–æ–π |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `--release` –ª–æ–∫–∞–ª—å–Ω–æ | –í—ã—è–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –¥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ |
| –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (Firebase Analytics) | –°–æ–±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| –î–∏–∞–ª–æ–≥ –æ—à–∏–±–∫–∏ | –°–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –ø–æ–º–æ—â—å |

---

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –º–æ–∂–µ–º –≤–º–µ—Å—Ç–µ —Ä–∞–∑–æ–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –æ—à–∏–±–∫—É –∏–∑ —Ç–≤–æ–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –∏–ª–∏ –ø—Ä–∏—à–ª–∏ `pubspec.yaml`.