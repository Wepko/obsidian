### **Таблица 5 – Таблица Couriers**  

| **Атрибут**          | **Тип данных**       | **Длина/значение**                          | **Описание**                              |
|----------------------|----------------------|--------------------------------------------|------------------------------------------|
| `id`                 | `BIGINT` (PK)        | AUTO_INCREMENT                             | Уникальный ID курьера                    |
| `user_id`            | `BIGINT` (FK)        | UNIQUE                                     | Связь с `users.id`                       |
| `vehicle_type`       | `ENUM`               | `bike`, `car`, `walk`                      | Тип транспорта                           |
| `courier_type`       | `ENUM`               | `freelance`, `employee`                    | Тип занятости                            |
| `min_delivery_area`  | `INT`                | 1-100 (км)                                 | Минимальная зона доставки                |
| `max_delivery_area`  | `INT`                | 1-100 (км)                                 | Максимальная зона доставки               |
| `delivery_fee`       | `DECIMAL`            | 8,2                                        | Доплата за доставку                      |
| `rating`             | `DECIMAL`            | 3,2 (0.00-5.00)                            | Рейтинг курьера                          |
| `status`             | `ENUM`               | `available`, `unavailable`, `delivering`   | Текущий статус                           |
| `current_location`   | `POINT`              | NULLABLE                                   | Координаты местоположения (GeoJSON)      |
| `created_at`         | `TIMESTAMP`          | CURRENT_TIMESTAMP                          | Дата создания                            |

### **Таблица 6 – Таблица Products**  

| **Атрибут**          | **Тип данных**       | **Длина/значение**                          | **Описание**                              |
|----------------------|----------------------|--------------------------------------------|------------------------------------------|
| `id`                 | `BIGINT` (PK)        | AUTO_INCREMENT                             | Уникальный ID товара                     |
| `shop_id`            | `BIGINT` (FK)        |                                            | Магазин (`shops.id`)                     |
| `category_id`        | `BIGINT` (FK)        | NULLABLE                                   | Категория (`categories.id`)              |
| `name`               | `VARCHAR`            | 255                                        | Название товара                          |
| `description`        | `TEXT`               | NULLABLE                                   | Описание                                 |
| `image`              | `VARCHAR`            | 255 (NULLABLE)                             | Изображение товара                       |
| `price`              | `DECIMAL`            | 8,2                                        | Цена                                     |
| `discount_price`     | `DECIMAL`            | 8,2 (NULLABLE)                             | Цена со скидкой                          |
| `stock`              | `INT`                | DEFAULT 0                                  | Количество на складе                     |
| `is_featured`        | `BOOLEAN`            | DEFAULT FALSE                              | Рекомендуемый товар                      |
| `is_active`          | `BOOLEAN`            | DEFAULT TRUE                               | Активен для заказа                       |
| `created_at`         | `TIMESTAMP`          | CURRENT_TIMESTAMP                          | Дата создания                            |

### **Таблица 7 – Таблица Order_items**  

| **Атрибут**          | **Тип данных**       | **Длина/значение**                          | **Описание**                              |
|----------------------|----------------------|--------------------------------------------|------------------------------------------|
| `id`                 | `BIGINT` (PK)        | AUTO_INCREMENT                             | Уникальный ID позиции                    |
| `order_id`           | `BIGINT` (FK)        |                                            | Заказ (`orders.id`)                      |
| `product_id`         | `BIGINT` (FK)        |                                            | Товар (`products.id`)                    |
| `quantity`           | `INT`                | DEFAULT 1                                  | Количество                               |
| `price`              | `DECIMAL`            | 8,2                                        | Цена за единицу                          |
| `total`              | `DECIMAL`            | 8,2                                        | Общая стоимость позиции                  |
| `created_at`         | `TIMESTAMP`          | CURRENT_TIMESTAMP                          | Дата создания                            |

### **Таблица 8 – Таблица Transactions**  

| **Атрибут**          | **Тип данных**       | **Длина/значение**                          | **Описание**                              |
|----------------------|----------------------|--------------------------------------------|------------------------------------------|
| `id`                 | `BIGINT` (PK)        | AUTO_INCREMENT                             | Уникальный ID транзакции                 |
| `order_id`           | `BIGINT` (FK)        | NULLABLE                                   | Заказ (`orders.id`)                      |
| `user_id`            | `BIGINT` (FK)        |                                            | Пользователь (`users.id`)                |
| `amount`             | `DECIMAL`            | 10,2                                       | Сумма                                    |
| `type`               | `ENUM`               | `payment`, `withdrawal`, `refund`          | Тип операции                             |
| `status`             | `ENUM`               | `pending`, `completed`, `failed`           | Статус                                   |
| `payment_method`     | `VARCHAR`            | 50                                         | Способ оплаты                            |
| `payment_details`    | `JSON`               | NULLABLE                                   | Детали платежа                           |
| `created_at`         | `TIMESTAMP`          | CURRENT_TIMESTAMP                          | Дата создания                            |

### **Таблица 9 – Таблица Business_settings**  

| **Атрибут**          | **Тип данных**       | **Длина/значение**                          | **Описание**                              |
|----------------------|----------------------|--------------------------------------------|------------------------------------------|
| `id`                 | `BIGINT` (PK)        | AUTO_INCREMENT                             | Уникальный ID настройки                  |
| `key`                | `VARCHAR`            | 255 (UNIQUE)                               | Ключ настройки                           |
| `value`              | `TEXT`               | NULLABLE                                   | Значение                                 |
| `created_at`         | `TIMESTAMP`          | CURRENT_TIMESTAMP                          | Дата создания                            |

### **Вывод по таблицам**  
Всего в базе данных реализовано **17 таблиц**, охватывающих:  
- **Пользователей и роли** (`users`, `roles`).  
- **Магазины и товары** (`shops`, `products`, `categories`).  
- **Логистику** (`couriers`, `zones`, `orders`).  
- **Финансы** (`transactions`).  
- **Настройки системы** (`business_settings`, `modules`).  

Полная схема базы данных представлена на **Рисунке 4** (прилагается в графической части работы).


---
### **Таблица 10 – Таблица Product_attributes**

| **Атрибут**       | **Тип данных** | **Длина/значение**       | **Описание**                          |
|-------------------|---------------|--------------------------|---------------------------------------|
| `id`              | BIGINT (PK)   | AUTO_INCREMENT          | Уникальный ID атрибута               |
| `product_id`      | BIGINT (FK)   |                         | Связь с товаром (products.id)        |
| `name`            | VARCHAR       | 255                     | Название атрибута (например, "Размер") |
| `price`           | DECIMAL       | 8,2                     | Дополнительная стоимость             |
| `created_at`      | TIMESTAMP     | CURRENT_TIMESTAMP       | Дата создания                        |
| `updated_at`      | TIMESTAMP     | CURRENT_TIMESTAMP ON UPDATE | Дата обновления                  |

### **Таблица 11 – Таблица Product_addons**

| **Атрибут**       | **Тип данных** | **Длина/значение**       | **Описание**                          |
|-------------------|---------------|--------------------------|---------------------------------------|
| `id`              | BIGINT (PK)   | AUTO_INCREMENT          | Уникальный ID дополнения             |
| `product_id`      | BIGINT (FK)   |                         | Связь с товаром (products.id)        |
| `name`            | VARCHAR       | 255                     | Название дополнения (например, "Соус") |
| `price`           | DECIMAL       | 8,2                     | Стоимость дополнения                 |
| `created_at`      | TIMESTAMP     | CURRENT_TIMESTAMP       | Дата создания                        |
| `updated_at`      | TIMESTAMP     | CURRENT_TIMESTAMP ON UPDATE | Дата обновления                  |

### **Таблица 12 – Таблица Order_item_attributes**

| **Атрибут**       | **Тип данных** | **Длина/значение**       | **Описание**                          |
|-------------------|---------------|--------------------------|---------------------------------------|
| `id`              | BIGINT (PK)   | AUTO_INCREMENT          | Уникальный ID связи                  |
| `order_item_id`   | BIGINT (FK)   |                         | Связь с позицией заказа (order_items.id) |
| `attribute_id`    | BIGINT (FK)   |                         | Связь с атрибутом (product_attributes.id) |
| `created_at`      | TIMESTAMP     | CURRENT_TIMESTAMP       | Дата создания                        |

### **Таблица 13 – Таблица Order_item_addons**

| **Атрибут**       | **Тип данных** | **Длина/значение**       | **Описание**                          |
|-------------------|---------------|--------------------------|---------------------------------------|
| `id`              | BIGINT (PK)   | AUTO_INCREMENT          | Уникальный ID связи                  |
| `order_item_id`   | BIGINT (FK)   |                         | Связь с позицией заказа (order_items.id) |
| `addon_id`        | BIGINT (FK)   |                         | Связь с дополнением (product_addons.id) |
| `created_at`      | TIMESTAMP     | CURRENT_TIMESTAMP       | Дата создания                        |

### **Таблица 14 – Таблица Modules**

| **Атрибут**       | **Тип данных** | **Длина/значение**       | **Описание**                          |
|-------------------|---------------|--------------------------|---------------------------------------|
| `id`              | BIGINT (PK)   | AUTO_INCREMENT          | Уникальный ID модуля                 |
| `name`            | VARCHAR       | 255                     | Название модуля                      |
| `type`            | VARCHAR       | 100                     | Тип модуля                           |
| `theme`           | VARCHAR       | 100                     | Тема оформления                      |
| `icon`            | VARCHAR       | 255                     | Путь к иконке                        |
| `thumbnail`       | VARCHAR       | 255                     | Путь к миниатюре                     |
| `status`          | ENUM          | 'active', 'inactive'    | Статус модуля                        |
| `created_at`      | TIMESTAMP     | CURRENT_TIMESTAMP       | Дата создания                        |
| `updated_at`      | TIMESTAMP     | CURRENT_TIMESTAMP ON UPDATE | Дата обновления                  |

### **Таблица 15 – Таблица Translations**

| **Атрибут**       | **Тип данных** | **Длина/значение**       | **Описание**                          |
|-------------------|---------------|--------------------------|---------------------------------------|
| `id`              | BIGINT (PK)   | AUTO_INCREMENT          | Уникальный ID перевода               |
| `table_name`      | VARCHAR       | 255                     | Имя таблицы                          |
| `column_name`     | VARCHAR       | 255                     | Имя колонки                          |
| `foreign_key`     | BIGINT        |                         | ID записи в исходной таблице         |
| `locale`          | VARCHAR       | 10                      | Язык перевода (ru, en и др.)         |
| `value`           | TEXT          |                         | Переведенное значение                |
| `created_at`      | TIMESTAMP     | CURRENT_TIMESTAMP       | Дата создания                        |
| `updated_at`      | TIMESTAMP     | CURRENT_TIMESTAMP ON UPDATE | Дата обновления                  |

### **Таблица 16 – Таблица Zones**

| **Атрибут**       | **Тип данных** | **Длина/значение**       | **Описание**                          |
|-------------------|---------------|--------------------------|---------------------------------------|
| `id`              | BIGINT (PK)   | AUTO_INCREMENT          | Уникальный ID зоны                   |
| `name`            | VARCHAR       | 255                     | Название зоны                        |
| `coordinates`     | POLYGON       |                         | Геометрические границы зоны          |
| `status`          | ENUM          | 'active', 'inactive'    | Статус зоны                          |
| `created_at`      | TIMESTAMP     | CURRENT_TIMESTAMP       | Дата создания                        |
| `updated_at`      | TIMESTAMP     | CURRENT_TIMESTAMP ON UPDATE | Дата обновления                  |

### **Таблица 17 – Таблица Model_has_roles (связь пользователей и ролей)**

| **Атрибут**       | **Тип данных** | **Длина/значение**       | **Описание**                          |
|-------------------|---------------|--------------------------|---------------------------------------|
| `role_id`         | BIGINT        |                         | ID роли                              |
| `model_type`      | VARCHAR       | 255                     | Тип модели (обычно 'App\Models\User') |
| `model_id`        | BIGINT        |                         | ID пользователя                      |

## **Заключение**
В данном разделе представлено полное описание всех 17 таблиц базы данных системы доставки еды. Каждая таблица содержит:
1. Уникальные идентификаторы (первичные ключи)
2. Внешние ключи для связей между таблицами
3. Основные атрибуты с указанием типов данных
4. Ограничения (UNIQUE, NULLABLE и др.)
5. Временные метки создания и обновления

Особое внимание уделено:
- **Гибкости системы** (модули, настройки)
- **Многоязычности** (таблица translations)
- **Геоданным** (зоны доставки)
- **Сложным связям** (многие-ко-многим через промежуточные таблицы)

Полная ER-диаграмма базы данных представлена в **Приложении А** дипломной работы.