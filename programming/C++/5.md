5.1. Понятие массива 
Основная цель любой программы состоит в обработке данных. Данные различного типа хранятся и обрабатываются по-разному. В любом алгоритмическом языке каждая константа, переменная, результат вычисления выражения или функции должны иметь определенный тип. Все типы языка С++ можно разделить на основные и составные. В языке С++ определены основные типы данных для представления целых, вещественных, символьных и логических величин (таблица 1). На основе этих типов программист может вводить описание составных типов. К ним относятся массивы, перечисления, структуры, ссылки, указатели, объединения и классы. При обработке данных достаточно часто приходится создавать некоторое количество (иногда большое) переменных одинакового типа (и описывающих одинаковые объекты). В этом случае эти переменные имеет смысл объединить одним идентификатором. Это позволяют сделать массивы. Массив – это поименованный набор однотипных компонентов (элементов массива), расположенных в памяти непосредственно друг за другом. Массивы обладают рядом достоинств:  лёгкость вычисления адреса элемента по его индексу (поскольку элементы массива располагаются один за другим);  одинаковое время доступа ко всем элементам;  малый размер элементов: они состоят только из информационного поля. Из объявления массива компилятор должен получить информацию о типе элементов массива и их количестве. Каждый элемент мас- 48 сива определяется именем массива и порядковым номером элемента, который называется индексом. Индекс в языке С++ – всегда целое число. Индекс в языке С++ указывается в квадратных скобках после имени массива. Количество используемых индексов в массиве определяет его размерность. Если в массиве один индекс, то это одномерный массив. Основная форма объявления (описания) одномерного массива имеет вид: тип имя_массива [размер]; где тип – тип элементов массива, размер – количество элементов одномерного массива. Размер массива в языке C++ может задаваться константой или выражением, состоящим из констант. Нельзя задавать массив переменного размера. Для этого существует отдельный механизм, называемый динамическим выделением памяти. Примеры описания массивов: const int N = 15; double a[10], arr[N]; В языке С++ индекс всегда начинается с нуля, под первым элементом массива подразумевается элемент с индексом 0. Если объявлен массив: int x[100]; то это означает, что массив содержит 100 элементов от x[0] до x[99]. Для одномерного массива легко подсчитать, сколько байт в памяти будет занимать этот массив: колич.байт = размер_типа_элемента*колич.элементов В языке С++ под массив всегда выделяется непрерывное место в оперативной памяти. 49 В языке С++ не проверяется выход индекса за пределы массива. Если массив x[100] описан как целочисленный массив, имеющий 100 элементов, а в программе указан элемент x[200], то сообщение об ошибке не будет выдано, а в качестве значения элемента x[200] будет выдано некоторое число, занимающее 2 байта. Используя циклы, можно осуществить перебор всего массива и через индексы обратиться к его элементам. Наиболее пригодными для решения этой задачи являются циклы со счетчиком. Пример 1. Осуществить ввод элементов целочисленного массива с клавиатуры. Вывести значения элементов массива на экран в строку через пробел. Программа на языке С++. [[include]] [[include]] using namespace std; int main() { setlocale(0, ""); const int N = 10; // размер массива double a[N]; // описание массива int i; // переменная-счетчик cout << "Введите " << N << " чисел" << endl; for (i = 0; i < N; i++) cin << a[i]; // ввод элементов массива cout << "Массив" << endl; // вывод заголовка for (i = 0; i < N; i++) cout << a[i] << " "; // // вывод элементов cout << endl; } В программе продемонстрировано использование при выводе символов русского алфавита (кириллицы). Для этого подключен заголовочный файл локализации locale.h, который содержит функции и классы для потоковой обработки данных в форме естественной для разных языков (денежный формат, представление символов, сортировка строк). Региональные настройки (локаль) содержит информацию о том, как интерпретировать и выполнять определенные опера- 50 ции ввода/вывода и преобразования с учетом специфики языков в определённых условиях. Функция setlocale() задает региональные настройки, которые будут использоваться текущей программой. Можно изменить все параметры локали, или конкретные её части. Эта функция также может быть использована для получения имени текущей локали, передав NULL в через параметр locale. Использование русского алфавита осуществляется вызовом функции setlocale(LC_ALL, "Russian"), для русифицированных версий операционной системы можно опустить последний аргумент функции и заменить на setlocale(0, ""). 5.2. Генерация случайных чисел Элементы массива могут задаваться в зависимости от условий задачи различными способами:  вводиться с клавиатуры;  рассчитываться по формуле;  генерироваться из некоторого диапазона. Случайные числа в языке программирования С++ могут быть сгенерированы функцией rand() из стандартной библиотеки С++. Функция rand() генерирует числа в диапазоне от 0 до RAND_MAX. RAND_MAX – это константа, определённая в библиотеке . Для инициализации генератора случайных чисел используется функции srand(). Зачастую, не нужен такой большой диапазон чисел от 0 до RAND_MAX. Например, имитируя бросание игрального кубика необходимо получить число от 1 до 6, то есть генерация чисел должна выполняться в пределе от 1 до 6-х. Бросая монету, может возникнуть только два случая, когда монета упадёт «орлом» или «решкой» вверх, 51 нужный интервал – от 1 до 2. Для того чтобы масштабировать интервал генерации чисел нужно воспользоваться, операцией нахождения остатка от деления «%». Например, какое бы не выдал число генератор случайных чисел rand(), запись rand() % 3 в итоге выдаст число из диапазона от 0 до 2. Для того чтобы сместить диапазон, прибавляется единица: rand() % 3 +1 тогда диапазон изменится от 1 до 3 включительно. Однако, при повторном запуске программы, генератор будет выдавать те же самые случайные числа. Дело в том, что функция rand() генерирует случайные числа один раз, а при последующих запусках программы всего лишь возвращает уже сгенерированный набор. Такая особенность функции rand() нужна для того, чтобы можно было правильно отладить разрабатываемую программу. При отладке программы, внеся какие-либо изменения, необходимо удостовериться, что программа срабатывает правильно, а это возможно, если входные данные остались те же (берем ранее сгенерированные числа). После того, как программа успешно отлажена, нужно, чтобы при выполнении каждый раз генерировались новые случайные числа. В этом случае для инициализации генератора случайных чисел, часто используют функцию time() с аргументом NULL как параметр функции srand(). Чтобы использовать функцию time(), необходимо подключить заголовочный файл . Пример 2. Заполнить массив 20 случайными целыми числами из диапазона от 0 до 99. Вычислить сумму его элементов. Программа на языке С++. [[include]] [[include]] [[include]] [[include]] using namespace std; int main() { 52 setlocale(0, ""); const int N = 20; //размер массива int i, Array[N], Summ; //инициализируем генератор //случайных чисел: srand(time(NULL)); // генерация элементов массива for (i = 0; i < N; i++) Array[i] = rand() % 100; // Вывод элементов массива cout << "Сгенерированный массив" << endl; for (i = 0; i < N; i++) cout << Array[i] << " "; cout << endl; // вычисление суммы и вывод результата на экран Summ = 0; for (i = 0; i < N; i++) Summ += Array[i]; cout << "Summ = " << Summ << endl; //не дает программе завершиться немедленно: system("pause"); return 0; } 5.3. Вопросы для самопроверки 1. В каких случаях целесообразно использовать массивы? 2. Чему равен индекс последнего элемента массива? 3. Что произойдет в случае обращения к элементу массива по индексу, большему чем длина массива? 4. Может ли массив содержать элементы различных типов?